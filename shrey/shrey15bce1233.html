<!DOCTYPE html>
<html>
<head>
	<title>js forms</title>
	<style type="text/css">
		body{
			border:1px solid #666666;
			width: 50%;
		}
		form{
			margin-top: 10px;
			margin-left: 10px;
			margin-bottom: 10px;
		}
		.form-group{
			font-family: "Arial";
			font-size:13px;
			color: #4d4d4d;
		}

		.price{
			font-weight: bold;
		}

		hr{
			color: lightgray;
			margin-left: 2px;
		}

		#btn{
			background-color:#f0ad4e; 
			color:white;
			border-radius: 5px; 
			height:35px;
			width: 80px;
		}
		#hide{
			display: none;
		}
		#hide2{
			display: none;
		}
	</style>
</head>
<body>
		<h3 style="color:#4d4d4d; font-size:32px; font-family:Arial">Form Products</h3><hr>
		<h4 style="color:#4d4d4d">My products</h4>
		<div class="form-group">
			<input type="checkbox" name="t-shirt" id="t-shirt">JotForm T-Shirt <span class="price">$9.99</span><br>
			<select id="quantity">
				<option>1</option>
				<option>2</option>
				<option>3</option>
				<option>4</option>
				<option>5</option>
			</select><label>Quantity</label>

			<select>
				<option>Red</option>
				<option>Green</option>
				<option>Blue</option>
			</select><label>Color</label>

			<select>
				<option>XS</option>
				<option>S</option>
				<option>M</option>
				<option>L</option>
				<option>XL</option>
				<option>XXL</option>
			</select><label>T-Shirt Size</label><br><br>

			<input type="checkbox" name="mug" id="mug">JotForm Mug <span class="price">$4.99</span><br><br>

			<input type="checkbox" name="pencil" id="pencil">JotForm Pencil <span class="price">$2.99</span><br><br>

			<input type="checkbox" name="stickers" id="sticker">JotForm Sticker <span class="price">$1.99</span><br><br>

			<button type="text" id="gen" onclick="coupon()">Generate Coupon</button>
			<button type="text" id="ent" onclick="ent()">Enter Coupon</button>
			
			<div id="hide2">
			<label>Coupon Code:</label>
			<input type="text" name="coupon" style="margin-left:20px;">
			</div>

			<div id="hide">
				<label>Username:</label>
				<input type="text" id="user" style="margin-left:40px;"><br><br>
				<button type="text" id="username" onclick="enter()">Enter</button><br>
				<div id="generatedcoupon"></div>
			</div>

		</div>
		<h4 id="total" style="color:#4d4d4d;">Total</h4>
		
		<div align="center">
			<button type="button" onclick="validate()" id="btn">submit</button>
		</div>
</body>
<script type="text/javascript">
	var total=Number(0);
	var tshirt=document.getElementById('t-shirt');
	var mug=document.getElementById('mug');
	var pencil=document.getElementById('pencil');
	var sticker=document.getElementById('sticker');
	var num=document.getElementById('quantity');
	var quantity = Number(num.options[num.selectedIndex].value);
	var area = document.getElementById('total');
	var form = document.getElementById('form');

	function validate(){
		

		if(mug.checked){
			total=total+Number(4.99);
		} 

		if(pencil.checked){
			total=total+Number(2.99);
		}
		
		if(sticker.checked){
			total=total+Number(1.99);
		}
		
		area.innerHTML='Total			'+'$'+total;

	}

	function coupon() {

		var show = document.getElementById('hide');
		show.style.display='block'
		
	}

	function ent(){
		var show=document.getElementById('hide2');
		show.style.display='block';
	}

	function enter(){

		var name= document.getElementById('user');
		if(name.length>=7 && name.length<=8){
			var code='';
			if(name.length === 7){
				code+=name[0].toUpperCase();
				var vowels=['a','e','i','o','u'];
				var count=Number(0);

				for(var i in vowels){
				for(var j in name){
					if(vowels[j] === name[i]){
						count++;
						}				
					}
				}

				code+=count;
				code+=name[length-1];
				code+='@';
				code+=Number(name.length)-Number(count);
			}

			else if(name.length==8){

				for(var i in name){
				for(var j in letters){
					if(name[i] === letters[j]){
						code+=letters[j];
						}
					}
				}
			}	
			var area = document.getElementById('generatedcoupon');
				area.innerHTML = 'Coupon code:' + code;
			}		
		else{
			var area = document.getElementById('generatedcoupon');
				area.innerHTML = 'username must be of 7-8 letters';
		}
	}

</script>
</html>